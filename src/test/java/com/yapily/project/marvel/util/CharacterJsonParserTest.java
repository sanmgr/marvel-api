package com.yapily.project.marvel.util;

import com.yapily.project.marvel.model.Character;
import com.yapily.project.marvel.util.config.TestApplicationConfig;
import org.junit.Assert;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

import java.util.List;

@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(classes = TestApplicationConfig.class)
public class CharacterJsonParserTest {

    @Autowired
    CharacterJsonParser characterJsonParser;

    @Test
    public void testGetActualSingleCharacter() {
        final String response = "{\"code\":200,\"status\":\"Ok\",\"copyright\":\"© 2021 MARVEL\",\"attributionText\":\"Data provided by Marvel. © 2021 MARVEL\",\"attributionHTML\":\"<a href=\\\"http://marvel.com\\\">Data provided by Marvel. © 2021 MARVEL</a>\",\"etag\":\"f0f50f72d6ce5fc336cf70a7c2be616ce78215c8\",\"data\":{\"offset\":0,\"limit\":20,\"total\":1,\"count\":1,\"results\":[{\"id\":1011334,\"name\":\"3-D Man\",\"description\":\"\",\"modified\":\"2014-04-29T14:18:17-0400\",\"thumbnail\":{\"path\":\"http://i.annihil.us/u/prod/marvel/i/mg/c/e0/535fecbbb9784\",\"extension\":\"jpg\"},\"resourceURI\":\"http://gateway.marvel.com/v1/public/characters/1011334\",\"comics\":{\"available\":12,\"collectionURI\":\"http://gateway.marvel.com/v1/public/characters/1011334/comics\",\"items\":[{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/21366\",\"name\":\"Avengers: The Initiative (2007) #14\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/24571\",\"name\":\"Avengers: The Initiative (2007) #14 (SPOTLIGHT VARIANT)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/21546\",\"name\":\"Avengers: The Initiative (2007) #15\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/21741\",\"name\":\"Avengers: The Initiative (2007) #16\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/21975\",\"name\":\"Avengers: The Initiative (2007) #17\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/22299\",\"name\":\"Avengers: The Initiative (2007) #18\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/22300\",\"name\":\"Avengers: The Initiative (2007) #18 (ZOMBIE VARIANT)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/22506\",\"name\":\"Avengers: The Initiative (2007) #19\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/8500\",\"name\":\"Deadpool (1997) #44\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/10223\",\"name\":\"Marvel Premiere (1972) #35\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/10224\",\"name\":\"Marvel Premiere (1972) #36\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/10225\",\"name\":\"Marvel Premiere (1972) #37\"}],\"returned\":12},\"series\":{\"available\":3,\"collectionURI\":\"http://gateway.marvel.com/v1/public/characters/1011334/series\",\"items\":[{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/1945\",\"name\":\"Avengers: The Initiative (2007 - 2010)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/2005\",\"name\":\"Deadpool (1997 - 2002)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/2045\",\"name\":\"Marvel Premiere (1972 - 1981)\"}],\"returned\":3},\"stories\":{\"available\":21,\"collectionURI\":\"http://gateway.marvel.com/v1/public/characters/1011334/stories\",\"items\":[{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/19947\",\"name\":\"Cover #19947\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/19948\",\"name\":\"The 3-D Man!\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/19949\",\"name\":\"Cover #19949\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/19950\",\"name\":\"The Devil's Music!\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/19951\",\"name\":\"Cover #19951\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/19952\",\"name\":\"Code-Name:  The Cold Warrior!\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/47184\",\"name\":\"AVENGERS: THE INITIATIVE (2007) #14\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/47185\",\"name\":\"Avengers: The Initiative (2007) #14 - Int\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/47498\",\"name\":\"AVENGERS: THE INITIATIVE (2007) #15\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/47499\",\"name\":\"Avengers: The Initiative (2007) #15 - Int\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/47792\",\"name\":\"AVENGERS: THE INITIATIVE (2007) #16\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/47793\",\"name\":\"Avengers: The Initiative (2007) #16 - Int\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/48361\",\"name\":\"AVENGERS: THE INITIATIVE (2007) #17\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/48362\",\"name\":\"Avengers: The Initiative (2007) #17 - Int\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/49103\",\"name\":\"AVENGERS: THE INITIATIVE (2007) #18\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/49104\",\"name\":\"Avengers: The Initiative (2007) #18 - Int\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/49106\",\"name\":\"Avengers: The Initiative (2007) #18, Zombie Variant - Int\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/49888\",\"name\":\"AVENGERS: THE INITIATIVE (2007) #19\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/49889\",\"name\":\"Avengers: The Initiative (2007) #19 - Int\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/54371\",\"name\":\"Avengers: The Initiative (2007) #14, Spotlight Variant - Int\",\"type\":\"interiorStory\"}],\"returned\":20},\"events\":{\"available\":1,\"collectionURI\":\"http://gateway.marvel.com/v1/public/characters/1011334/events\",\"items\":[{\"resourceURI\":\"http://gateway.marvel.com/v1/public/events/269\",\"name\":\"Secret Invasion\"}],\"returned\":1},\"urls\":[{\"type\":\"detail\",\"url\":\"http://marvel.com/comics/characters/1011334/3-d_man?utm_campaign=apiRef&utm_source=48b1be69d9711f872cfa5eac0e0d4c8d\"},{\"type\":\"wiki\",\"url\":\"http://marvel.com/universe/3-D_Man_(Chandler)?utm_campaign=apiRef&utm_source=48b1be69d9711f872cfa5eac0e0d4c8d\"},{\"type\":\"comiclink\",\"url\":\"http://marvel.com/comics/characters/1011334/3-d_man?utm_campaign=apiRef&utm_source=48b1be69d9711f872cfa5eac0e0d4c8d\"}]}]}}";
        final Character character = characterJsonParser.getActualSingleCharacter(response);
        Assert.assertNotNull(character);
        int expectedId = 1011334;
        int actualId = character.getId();
        Assert.assertEquals(expectedId, actualId);
    }

    @Test
    public void testGetActualSingleCharacterParsingFailed() {
        final String response = "test";
        final Character character = characterJsonParser.getActualSingleCharacter(response);
        Assert.assertEquals(null, character.getId());
    }

    @Test
    public void testGetActualListOfCharacters() {
        final String response = "{\"code\":200,\"status\":\"Ok\",\"copyright\":\"© 2021 MARVEL\",\"attributionText\":\"Data provided by Marvel. © 2021 MARVEL\",\"attributionHTML\":\"<a href=\\\"http://marvel.com\\\">Data provided by Marvel. © 2021 MARVEL</a>\",\"etag\":\"dac369d83fb6e701b3971bda43dc6b1111bf937d\",\"data\":{\"offset\":100,\"limit\":3,\"total\":1493,\"count\":3,\"results\":[{\"id\":1009489,\"name\":\"Ben Parker\",\"description\":\"\",\"modified\":\"1969-12-31T19:00:00-0500\",\"thumbnail\":{\"path\":\"http://i.annihil.us/u/prod/marvel/i/mg/8/c0/4c003d00c8ed9\",\"extension\":\"jpg\"},\"resourceURI\":\"http://gateway.marvel.com/v1/public/characters/1009489\",\"comics\":{\"available\":21,\"collectionURI\":\"http://gateway.marvel.com/v1/public/characters/1009489/comics\",\"items\":[{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/322\",\"name\":\"Amazing Spider-Man (1999) #501\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/24407\",\"name\":\"Amazing Spider-Man (1999) #600\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/29303\",\"name\":\"Amazing Spider-Man (1999) #600 (2ND PRINTING VARIANT)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/35517\",\"name\":\"Amazing Spider-Man (1999) #655\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/40886\",\"name\":\"Amazing Spider-Man (1999) #655 (2nd Printing Variant)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/36956\",\"name\":\"Amazing Spider-Man Annual (2011) #38\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/41661\",\"name\":\"Amazing Spider-Man Annual (2012) #39\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/1262\",\"name\":\"Amazing Spider-Man Vol. 6 (Trade Paperback)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/43094\",\"name\":\"Amazing Spider-Man: The Movie (2012) #1\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/15895\",\"name\":\"Bullet Points (Trade Paperback)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/5500\",\"name\":\"Bullet Points (2006) #1\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/5634\",\"name\":\"Bullet Points (2006) #2\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/5781\",\"name\":\"Bullet Points (2006) #3\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/5946\",\"name\":\"Bullet Points (2006) #4\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/6102\",\"name\":\"Bullet Points (2006) #5\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/4224\",\"name\":\"Friendly Neighborhood Spider-Man (2005) #8\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/4323\",\"name\":\"Friendly Neighborhood Spider-Man (2005) #9\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/4479\",\"name\":\"Friendly Neighborhood Spider-Man (2005) #10\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/14678\",\"name\":\"Peter Parker, the Spectacular Spider-Man (1976) #221\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/1904\",\"name\":\"Spectacular Spider-Man (2003) #27\"}],\"returned\":20},\"series\":{\"available\":10,\"collectionURI\":\"http://gateway.marvel.com/v1/public/characters/1009489/series\",\"items\":[{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/454\",\"name\":\"Amazing Spider-Man (1999 - 2013)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/13205\",\"name\":\"Amazing Spider-Man Annual (2011)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/15540\",\"name\":\"Amazing Spider-Man Annual (2012)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/318\",\"name\":\"Amazing Spider-Man Vol. 6 (2004)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/16371\",\"name\":\"Amazing Spider-Man: The Movie (2012)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/2424\",\"name\":\"Bullet Points (2007)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/994\",\"name\":\"Bullet Points (2006 - 2007)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/877\",\"name\":\"Friendly Neighborhood Spider-Man (2005 - 2007)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/2271\",\"name\":\"Peter Parker, the Spectacular Spider-Man (1976 - 1998)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/556\",\"name\":\"Spectacular Spider-Man (2003 - 2005)\"}],\"returned\":10},\"stories\":{\"available\":25,\"collectionURI\":\"http://gateway.marvel.com/v1/public/characters/1009489/stories\",\"items\":[{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/1020\",\"name\":\"Amazing Spider-Man (1999) #501\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/1882\",\"name\":\"Spectacular Spider-Man (2003) #27\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/1883\",\"name\":\"1 of 1\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/4668\",\"name\":\"Friendly Neighborhood Spider-Man (2005) #8\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/4669\",\"name\":\"1 of 3 - Jumping the Tracks\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/4670\",\"name\":\"Friendly Neighborhood Spider-Man (2005) #9\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/4671\",\"name\":\"2 of 3 - Jumping the Tracks\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/4672\",\"name\":\"Friendly Neighborhood Spider-Man (2005) #10\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/4673\",\"name\":\"3 of 3 - Jumping the Tracks\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/5612\",\"name\":\"1 of 5 -\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/5614\",\"name\":\"Bullet Points (2006) #2\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/5616\",\"name\":\"3 of 5 - Story A - 5XLS\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/7789\",\"name\":\"4 of 5 - Story A - 5XLS\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/7791\",\"name\":\"5 of 5 - Story A - 5XLS\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/23711\",\"name\":\"A Prelude in Red\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/29870\",\"name\":\"Peter Parker, The Spectacular Spider-Man (1976) #221\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/29876\",\"name\":\"Peter Parker, The Spectacular Spider-Man (1976) #223\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/53947\",\"name\":\"Amazing Spider-Man (1999) #600\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/53948\",\"name\":\"Amazing Spider-Man (1999) #600 - Int\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/63774\",\"name\":\"Amazing Spider-Man (1999) #600, 2nd Printing Variant - Int\",\"type\":\"interiorStory\"}],\"returned\":20},\"events\":{\"available\":0,\"collectionURI\":\"http://gateway.marvel.com/v1/public/characters/1009489/events\",\"items\":[],\"returned\":0},\"urls\":[{\"type\":\"detail\",\"url\":\"http://marvel.com/characters/2737/ben_parker?utm_campaign=apiRef&utm_source=001ac6c73378bbfff488a36141458af2\"},{\"type\":\"wiki\",\"url\":\"http://marvel.com/universe/Parker%2C_Ben_%28Uncle_Ben%29?utm_campaign=apiRef&utm_source=001ac6c73378bbfff488a36141458af2\"},{\"type\":\"comiclink\",\"url\":\"http://marvel.com/comics/characters/1009489/ben_parker?utm_campaign=apiRef&utm_source=001ac6c73378bbfff488a36141458af2\"}]},{\"id\":1011346,\"name\":\"Ben Reilly\",\"description\":\"Ben Reilly was the most genetically stable of the many clones of Spider-Man created by Professor Miles Warren, the Jackal.\",\"modified\":\"1969-12-31T19:00:00-0500\",\"thumbnail\":{\"path\":\"http://i.annihil.us/u/prod/marvel/i/mg/2/20/4ce5a6abaea69\",\"extension\":\"jpg\"},\"resourceURI\":\"http://gateway.marvel.com/v1/public/characters/1011346\",\"comics\":{\"available\":17,\"collectionURI\":\"http://gateway.marvel.com/v1/public/characters/1011346/comics\",\"items\":[{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/6809\",\"name\":\"The Amazing Spider-Man (1963) #394\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/24415\",\"name\":\"Amazing Spider-Man (1999) #608\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/24416\",\"name\":\"Amazing Spider-Man (1999) #609\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/24417\",\"name\":\"Amazing Spider-Man (1999) #610\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/60236\",\"name\":\"Amazing Spider-Man: The Clone Conspiracy (Hardcover)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/62234\",\"name\":\"Amazing Spider-Man: The Clone Conspiracy (Trade Paperback)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/14690\",\"name\":\"Peter Parker, the Spectacular Spider-Man (1976) #232\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/38126\",\"name\":\"Spider-Man: New York Stories (Trade Paperback)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/6829\",\"name\":\"The Amazing Spider-Man (1963) #411\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/6832\",\"name\":\"The Amazing Spider-Man (1963) #414\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/6835\",\"name\":\"The Amazing Spider-Man (1963) #417\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/717\",\"name\":\"Ultimate Spider-Man (2000) #61\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/600\",\"name\":\"Ultimate Spider-Man (2000) #62\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/759\",\"name\":\"Ultimate Spider-Man (2000) #64\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/5374\",\"name\":\"Ultimate Spider-Man (2000) #102\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/22\",\"name\":\"Ultimate Spider-Man Vol. 11: Carnage (Trade Paperback)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/16199\",\"name\":\"Ultimate Spider-Man Vol. 17: Clone Saga (Trade Paperback)\"}],\"returned\":17},\"series\":{\"available\":9,\"collectionURI\":\"http://gateway.marvel.com/v1/public/characters/1011346/series\",\"items\":[{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/454\",\"name\":\"Amazing Spider-Man (1999 - 2013)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/22186\",\"name\":\"Amazing Spider-Man: The Clone Conspiracy (2017)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/22857\",\"name\":\"Amazing Spider-Man: The Clone Conspiracy (2017)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/2271\",\"name\":\"Peter Parker, the Spectacular Spider-Man (1976 - 1998)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/13721\",\"name\":\"Spider-Man: New York Stories (2011 - Present)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/1987\",\"name\":\"The Amazing Spider-Man (1963 - 1998)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/466\",\"name\":\"Ultimate Spider-Man (2000 - 2009)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/1221\",\"name\":\"Ultimate Spider-Man Vol. 11: Carnage (2004)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/2692\",\"name\":\"Ultimate Spider-Man Vol. 17: Clone Saga (2007)\"}],\"returned\":9},\"stories\":{\"available\":17,\"collectionURI\":\"http://gateway.marvel.com/v1/public/characters/1011346/stories\",\"items\":[{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/1317\",\"name\":\"Interior #1317\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/1325\",\"name\":\"Interior #1325\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/1327\",\"name\":\"Interior #1327\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/1401\",\"name\":\"6 of ? - The Clone Saga\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/14244\",\"name\":\"The Double Part 2: No Escape\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/29912\",\"name\":\"Doctor Octopus--Armed and Dangerous\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/54187\",\"name\":\"Amazing Spider-Man (1999) #608\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/54189\",\"name\":\"Amazing Spider-Man (1999) #609\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/54190\",\"name\":\"Amazing Spider-Man (1999) #609 - Int\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/54191\",\"name\":\"Amazing Spider-Man (1999) #610\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/54192\",\"name\":\"Amazing Spider-Man (1999) #610 - Int\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/66274\",\"name\":\"Amazing Spider-Man (1963) #411\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/66277\",\"name\":\"Amazing Spider-Man (1963) #414\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/66280\",\"name\":\"Amazing Spider-Man (1963) #417\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/83788\",\"name\":\"Spider-Man: New York Stories (0000) #1\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/130949\",\"name\":\"cover from Amazing Spider-Man: Dead No More (2017)\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/134853\",\"name\":\"cover from The Clone Conspiracy (2017)\",\"type\":\"cover\"}],\"returned\":17},\"events\":{\"available\":0,\"collectionURI\":\"http://gateway.marvel.com/v1/public/characters/1011346/events\",\"items\":[],\"returned\":0},\"urls\":[{\"type\":\"detail\",\"url\":\"http://marvel.com/characters/2919/ben_reilly?utm_campaign=apiRef&utm_source=001ac6c73378bbfff488a36141458af2\"},{\"type\":\"wiki\",\"url\":\"http://marvel.com/universe/Ben%20Reilly?utm_campaign=apiRef&utm_source=001ac6c73378bbfff488a36141458af2\"},{\"type\":\"comiclink\",\"url\":\"http://marvel.com/comics/characters/1011346/ben_reilly?utm_campaign=apiRef&utm_source=001ac6c73378bbfff488a36141458af2\"}]},{\"id\":1010782,\"name\":\"Ben Urich\",\"description\":\"Ben Urich is a reporter for the Daily Bugle who has many ties to the city's superhero community.\",\"modified\":\"1969-12-31T19:00:00-0500\",\"thumbnail\":{\"path\":\"http://i.annihil.us/u/prod/marvel/i/mg/5/90/4c00373d10e5e\",\"extension\":\"jpg\"},\"resourceURI\":\"http://gateway.marvel.com/v1/public/characters/1010782\",\"comics\":{\"available\":53,\"collectionURI\":\"http://gateway.marvel.com/v1/public/characters/1010782/comics\",\"items\":[{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/37257\",\"name\":\"Alias (2001) #10\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/37255\",\"name\":\"Alias Omnibus (Hardcover)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/24415\",\"name\":\"Amazing Spider-Man (1999) #608\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/16889\",\"name\":\"Amazing Spider-Man Annual (1964) #15\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/16890\",\"name\":\"Amazing Spider-Man Annual (1964) #16\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/65140\",\"name\":\"Daily Bugle (1996) #1\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/65141\",\"name\":\"Daily Bugle (1996) #2\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/65142\",\"name\":\"Daily Bugle (1996) #3\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/15616\",\"name\":\"Daredevil (1998) #16\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/15617\",\"name\":\"Daredevil (1998) #17\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/2298\",\"name\":\"Daredevil (1998) #76\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/3946\",\"name\":\"Daredevil (1998) #83\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/8141\",\"name\":\"Daredevil (1964) #160\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/8145\",\"name\":\"Daredevil (1964) #164\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/8161\",\"name\":\"Daredevil (1964) #179\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/8163\",\"name\":\"Daredevil (1964) #180\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/8215\",\"name\":\"Daredevil (1964) #227\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/8216\",\"name\":\"Daredevil (1964) #228\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/8217\",\"name\":\"Daredevil (1964) #229\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/comics/8219\",\"name\":\"Daredevil (1964) #230\"}],\"returned\":20},\"series\":{\"available\":27,\"collectionURI\":\"http://gateway.marvel.com/v1/public/characters/1010782/series\",\"items\":[{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/672\",\"name\":\"Alias (2001 - 2003)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/13383\",\"name\":\"Alias Omnibus (2006)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/454\",\"name\":\"Amazing Spider-Man (1999 - 2013)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/2984\",\"name\":\"Amazing Spider-Man Annual (1964 - 2018)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/23704\",\"name\":\"Daily Bugle (1996 - 1997)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/449\",\"name\":\"Daredevil (1998 - 2011)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/2002\",\"name\":\"Daredevil (1964 - 1998)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/7665\",\"name\":\"Daredevil Annual (1967 - 1990)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/1528\",\"name\":\"DAREDEVIL VOL. 13: THE MURDOCK PAPERS TPB (2006)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/20\",\"name\":\"Daredevil Vol. III: Wake Up (1999)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/1646\",\"name\":\"Daredevil: The Devil, Inside and Out Vol. 1 (2006)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/20457\",\"name\":\"Doctor Strange (2015 - 2018)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/28362\",\"name\":\"Marvel's Spider-Man: Velocity (2020)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/6282\",\"name\":\"Marvels: Eye of the Camera (2008 - 2010)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/5381\",\"name\":\"Mighty Avengers Vol. 1: The Ultron Initiative (2008)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/2271\",\"name\":\"Peter Parker, the Spectacular Spider-Man (1976 - 1998)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/674\",\"name\":\"Pulse (2004 - 2006)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/1630\",\"name\":\"PULSE VOL. 3: FEAR TPB (2006)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/5213\",\"name\":\"Secret Invasion: Front Line (2008 - 2009)\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/series/23521\",\"name\":\"Spider-Man: The Daily Bugle (2017)\"}],\"returned\":20},\"stories\":{\"available\":58,\"collectionURI\":\"http://gateway.marvel.com/v1/public/characters/1010782/stories\",\"items\":[{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/1090\",\"name\":\"6 of 6 - Decalogue\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/1103\",\"name\":\"2 of 6 - The Devil in Cell Block D\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/2339\",\"name\":\"Cover #2339\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/2343\",\"name\":\"\\\"THIN AIR\\\" PART 5 (OF 5) The downfall of Norman Osborn – the shocking conclusion to the story that rocked the Spidey-verse!  Str\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/2345\",\"name\":\"2 of 5 - Secret War arc\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/2347\",\"name\":\"3 of 4 - Secret War arc\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/2349\",\"name\":\"4 of 4 - Secret War arc\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/2353\",\"name\":\"1 of 5 -\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/2359\",\"name\":\"1 of\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/2361\",\"name\":\"2 of - Fear\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/15849\",\"name\":\"Daredevil (1964) #160\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/15857\",\"name\":\"Daredevil (1964) #164\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/15858\",\"name\":\"Expose\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/15892\",\"name\":\"Daredevil (1964) #179\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/15893\",\"name\":\"Spiked!\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/15896\",\"name\":\"Daredevil (1964) #180\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/15897\",\"name\":\"The Damned\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/16005\",\"name\":\"Daredevil (1964) #227\",\"type\":\"cover\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/16006\",\"name\":\"Apocalypse\",\"type\":\"interiorStory\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/stories/16007\",\"name\":\"Daredevil (1964) #228\",\"type\":\"cover\"}],\"returned\":20},\"events\":{\"available\":4,\"collectionURI\":\"http://gateway.marvel.com/v1/public/characters/1010782/events\",\"items\":[{\"resourceURI\":\"http://gateway.marvel.com/v1/public/events/255\",\"name\":\"Initiative\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/events/336\",\"name\":\"Secret Empire\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/events/269\",\"name\":\"Secret Invasion\"},{\"resourceURI\":\"http://gateway.marvel.com/v1/public/events/277\",\"name\":\"World War Hulk\"}],\"returned\":4},\"urls\":[{\"type\":\"detail\",\"url\":\"http://marvel.com/characters/2826/ben_urich?utm_campaign=apiRef&utm_source=001ac6c73378bbfff488a36141458af2\"},{\"type\":\"wiki\",\"url\":\"http://marvel.com/universe/Urich%2C_Ben?utm_campaign=apiRef&utm_source=001ac6c73378bbfff488a36141458af2\"},{\"type\":\"comiclink\",\"url\":\"http://marvel.com/comics/characters/1010782/ben_urich?utm_campaign=apiRef&utm_source=001ac6c73378bbfff488a36141458af2\"}]}]}}";
        final List<Character> character = characterJsonParser.getActualListOfCharacters(response);
        Assert.assertNotNull(character);
        int expectedSize = 3;
        int actualSize = character.size();
        Assert.assertEquals(expectedSize, actualSize);
    }

    @Test
    public void testGetActualListOfCharactersParsingFailed() {
        final String response = "test";
        final List<Character> character = characterJsonParser.getActualListOfCharacters(response);
        Assert.assertEquals(0, character.size());
    }
}